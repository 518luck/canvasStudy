<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>渐变折线</title>
  </head>
  <body>
    <script>
      let lang = 10
      let start = (lang * Math.PI) / 180
      let end = ((lang + 20) * Math.PI) / 180

      const canvas = document.createElement('canvas')
      canvas.width = 500
      canvas.height = 500
      canvas.style.border = '1px solid #000'

      document.body.append(canvas)

      const cxt = canvas.getContext('2d')

      const linearGradient = cxt.createLinearGradient(100, 100, 400, 400)
      linearGradient.addColorStop(0, 'yellow')
      linearGradient.addColorStop(0.25, 'orange')
      linearGradient.addColorStop(0.5, 'pink')
      linearGradient.addColorStop(1, 'purple')

      cxt.imageSmoothingEnabled = true
      cxt.strokeStyle = linearGradient
      cxt.lineCap = 'round'

      cxt.lineWidth = 10
      ;(function () {
        const Interval = setInterval(() => {
          lang += 10
          if (lang > 360) {
            lang = 0
          }
          start = (lang * Math.PI) / 180
          end = ((lang + 20) * Math.PI) / 180

          cxt.clearRect(0, 0, canvas.width, canvas.height)
          cxt.beginPath()
          cxt.arc(250, 250, 50, start, end, true)

          cxt.stroke()
        }, 200)
      })()
    </script>
  </body>
</html>
